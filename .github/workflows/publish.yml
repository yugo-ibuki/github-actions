name: "Publish release"

on:
  release:
    types: [published]

  workflow_dispatch:
    inputs: # <= 入力欄の定義
      ref:
        description: "ref"
        required: false
        default: ""

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
        with:
          fetch-depth: 0
          ref: ${{github.event.pull_request.head.ref}}
          repository: yugo-ibuki/github-actions
          path: release
        env:
          ref: ${{github.event.pull_request.head.ref}}
      - run: |
          git config --global user.email "y.ibuki91@gmail.com"
          git config --global user.name "yugo-ibuki"
          echo '${{ toJson(github) }}'
          git --version
          git checkout release
#          echo '${{ toJson(github.event) }}'
#          git checkout release
#          git branch
#      - run: echo '${{ toJson(github.event) }}'
#      - run: git status
#      - run: git branch
#        env:
#          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

  published:
    runs-on: ubuntu-latest
    steps:
      - run: echo "publish release"